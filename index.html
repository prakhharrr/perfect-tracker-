<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=1200, initial-scale=1">
<title>Personal Tracker</title>

<style>
html, body{
  margin:0;
  padding:0;
  background:#000;
}

/* reference width (same as sleep tracker) */
.page-width{
  width:1200px;
  margin:0 auto 48px;
}

/* iframe base */
iframe{
  width:100%;
  border:none;
  display:block;
}
</style>
</head>

<body>

<!-- PART 1 : Habit Tracker (SCALED TO FIT) -->
<div class="page-width">
  <iframe src="part1.html" onload="fitIframe(this)"></iframe>
</div>

<!-- PART 2 : Sleep Tracker (REFERENCE â€“ untouched) -->
<div class="page-width">
  <iframe src="part2.html" onload="normalIframe(this)"></iframe>
</div>

<!-- PART 3 : Journal -->
<div class="page-width">
  <iframe src="part3.html" onload="normalIframe(this)"></iframe>
</div>

  <div class="page-width">
  <iframe src="part4.html" onload="normalIframe(this)"></iframe>
  </div>

<script>
function fitIframe(iframe){
  try{
    const doc = iframe.contentWindow.document;
    const body = doc.body;

    // get actual content width
    const contentWidth = body.scrollWidth;
    const frameWidth = 1200;

    // calculate scale
    const scale = frameWidth / contentWidth;

    // apply scale ONLY if needed
    if(scale < 1){
      body.style.transform = `scale(${scale})`;
      body.style.transformOrigin = "top left";
      body.style.width = contentWidth + "px";
    }

    body.style.margin = "0";
    body.style.overflow = "hidden";

    // fix height after scaling
    iframe.style.height =
      body.scrollHeight * scale + "px";

  }catch(e){
    console.log("iframe fit blocked");
  }
}

function normalIframe(iframe){
  try{
    const doc = iframe.contentWindow.document;
    iframe.style.height =
      doc.documentElement.scrollHeight + "px";
  }catch(e){
    console.log("iframe resize blocked");
  }
}
</script>

</body>
</html>
